# Compose override to enable NVIDIA GPU
services:
  ros2-jazzy-turbovnc-novnc:
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
    environment:
      NVIDIA_VISIBLE_DEVICES: "all"
      NVIDIA_DRIVER_CAPABILITIES: "compute,utility,graphics"
    # Fallback for older Compose (uncomment if needed)
    # runtime: nvidia
