{
  "name": "ROS 2 Jazzy + XFCE + TurboVNC + noVNC (+VirtualGL, GPU)",
  "dockerComposeFile": [
    "../docker-compose.yml",
    "../docker-compose.gpu.override.yml"
  ],
  "service": "ros2-jazzy-turbovnc-novnc",
  "workspaceFolder": "/home/ubuntu/ros2_ws",

  "settings": {
    "terminal.integrated.defaultProfile.linux": "bash",
    "editor.formatOnSave": true,
    "files.eol": "\n",
    "ros.distro": "jazzy",
    "python.defaultInterpreterPath": "/usr/bin/python3"
  },

  "extensions": [
    "ms-azuretools.vscode-docker",
    "ms-iot.vscode-ros",
    "ms-vscode.cmake-tools",
    "ms-vscode.cpptools-extension-pack",
    "ms-python.python"
  ],

  "containerEnv": {
    "ROS_DISTRO": "jazzy",
    "DISPLAY": ":1",
    "VNC_PORT": "5901",
    "NO_VNC_PORT": "6080",
    "VNC_GEOMETRY": "1600x900",
    "VNC_DEPTH": "24",
    "USER": "ubuntu",
    "PASSWORD": "ubuntu",
    "QT_X11_NO_MITSHM": "1",
    "LIBGL_DRI3_DISABLE": "1"
  },

  "runServices": ["ros2-jazzy-turbovnc-novnc"],
  "forwardPorts": [5901, 6080],
  "remoteUser": "ubuntu",
  "postCreateCommand": "sudo rosdep update || true"
}
